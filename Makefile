# Makefile

.PHONY: dev build test clean deps

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
dev:
	@chmod +x scripts/dev.sh
	@./scripts/dev.sh

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
build:
	@chmod +x scripts/build.sh
	@./scripts/build.sh

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
test:
	@echo "üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤..."
	@go test ./... -v

# –û—á–∏—Å—Ç–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤
clean:
	@echo "üßπ –û—á–∏—Å—Ç–∫–∞..."
	@rm -f demobot
	@rm -f bot

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
deps:
	@echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
	@go mod download
	@go mod verify

# –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ —Å–±–æ—Ä–∫–∏
run:
	@go run main.go

# –ü–æ–º–æ—â—å
help:
	@echo "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:"
	@echo "  make dev    - –∑–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏"
	@echo "  make build  - —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞"
	@echo "  make test   - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤"
	@echo "  make clean  - –æ—á–∏—Å—Ç–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤"
	@echo "  make deps   - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"
	@echo "  make run    - –ø—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫"